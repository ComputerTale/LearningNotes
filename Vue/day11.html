<html>
<head>
  <title>day11</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601535 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1390"/>
<h1>day11</h1>

<div>
<span><div><div><div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">采用更好的目录结构</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><img src="day11_files/Image.png" type="image/png" data-filename="Image.png"/></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">怎样给组件标签命名（方便选择器选择）</span></div><div>    有三种方式：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">1带横杠式</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">'app-header':Header</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">2驼峰式</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">appHeader:Header</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">3ES6</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">Header:header</span></div></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">组件样式作用域</span></div><div>对于每个单文件模板的样式作用域可分为两种：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>全局作用域：</div><div>&lt;style&gt;</div><div>div{</div><div>border:1px solid blue;</div><div>}</div><div>&lt;/style&gt;</div><div><br/></div><div>局部作用域：</div><div>&lt;style scoped&gt;</div><div>div{</div><div>border:1px solid blue;</div><div>}</div><div>&lt;/style&gt;</div></div><div>可以看出是关键字scoped起作用</div><div>对于每个单文件模板的style都会添加到最后生成的文件的style上</div><div>对于全局作用域style，直接添加进去</div><div>对于局部作用于，会给对于作用域的块添加一个特定的data属性</div><div><img src="day11_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div>添加的顺序与import的顺序一致</div><div><img src="day11_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><hr/><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">父组件向子组件传值</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">在子组件中使用props属性接收父组件传递的值，类似data属性</span></div><div>&lt;template&gt;</div><div>&lt;div class=&quot;component&quot;&gt;</div><div>&lt;h3&gt;You may view the User Details here&lt;/h3&gt;</div><div>&lt;p&gt;Many Details&lt;/p&gt;</div><div>&lt;p&gt;User Name:{{ name }}&lt;/p&gt;</div><div>&lt;/div&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div><br/></div><div>&lt;script&gt;</div><div>export default{</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">//设置props属性，值可以为一个数组形式，或者对象形式</span></div><div>props:['name']</div><div>}</div><div>&lt;/script&gt;</div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">&lt;!-- 在父组件中传递值方式，就是向子组件的name属性绑定值 --&gt;</span></div><div><font face="Monaco"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">这里的属性名name必须与子组件中数组内定义的一致</span></font></div><div>&lt;app-user-detail :name=&quot;name&quot;&gt;&lt;/app-user-detail&gt;</div></div><div>props属性下的值的使用方式与普通的data中的值使用方式一样</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>props:['myName'],</div><div>methods:{</div><div>switchName(){</div><div>//访问props中的属性与data中的属性是一样的，通过this.来访问</div><div>return this.myName.split(&quot;&quot;).reverse().join(&quot;&quot;)</div><div>}</div><div>}</div></div><div>通过对props属性设置一些属性来对传入的值的格式等进行约束</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>// props属性用于接收父组件传递的值</div><div>props:{</div><div>//对传入的值的类型设置验证</div><div>// 可以设置成这样的单个值的形式</div><div>// myName:String</div><div>// 也可以设置成对象的形式</div><div>myName:{</div><div>type:String,</div><div>//传入的参数必须有值</div><div>required:true</div><div>// 也可以设置默认的值</div><div>// default:'default'</div><div>// 当类型为数组或者对象时,default写成函数形式</div><div>// type:Object,</div><div>// default:function(){</div><div>// return {</div><div>// name:'fangjie'</div><div>// }</div><div>// }</div><div>}</div><div>},</div></div><hr/><div><span style="font-size: 12px; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">子组件向父组件传值两种方式：</span></div><div><span style="font-size: 12px; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">一、在子组件中使用自定义事件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#333333" face="Monaco"><font face="Monaco" style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">子组件中</font></font></div><div><font color="#333333" face="Monaco">resetName() {</font></div><div><font color="#333333" face="Monaco">this.myName = &quot;fangjie&quot;;</font></div><div><font color="#333333" face="Monaco"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">//使用Vue内置方法触发一个自定义事件，一个参数为事件名称</span></font></div><div><font color="#333333" face="Monaco"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">//第二个参数为传递的数据</span></font></div><div><font color="#333333" face="Monaco">this.$emit('nameWasReset',this.myName)</font></div><div><font color="#333333" face="Monaco">}</font></div><div><font color="#333333" face="Monaco"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">父组件中</span></font></div><div><font color="#333333" face="Monaco"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">监听这个事件，使用$event获取传递的值</span></font></div><div><font color="#333333" face="Monaco">&lt;app-user-detail :myName=&quot;name&quot; @nameWasReset=&quot;name = $event&quot;&gt;&lt;/app-user-detail&gt;</font></div></div></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">二、回调函数：在父组件中定义函数，通过props传递该函数，函数执行后会将值返回给父组件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">父组件中</span></div><div>&lt;app-user-detail</div><div>:myName=&quot;name&quot;</div><div>@nameWasReset=&quot;name = $event&quot;</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">:resetFn=&quot;resetName&quot;</span>&gt;&lt;/app-user-detail&gt;</div><div><br/></div><div>methods:{</div><div>changeName(){</div><div>this.name = 'Anna'</div><div>},</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">resetName(){</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">this.name = 'fangjie'</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">}</span></div><div>}</div><div><br/></div><div>子组件中</div><div>&lt;button <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">@click=&quot;resetFn()&quot;</span>&gt;Reser Function&lt;/button&gt;</div><div><br/></div><div>props: {</div><div>//对传入的值的类型设置验证</div><div>// 可以设置成这样的单个值的形式</div><div>// myName:String</div><div>// 也可以设置成对象的形式</div><div>myName: {</div><div>type: String,</div><div>//传入的参数必须有值</div><div>required: true</div><div>// 也可以设置默认的值</div><div>// default:'default'</div><div>// 当类型为数组或者对象时,default写成函数形式</div><div>// type:Object,</div><div>// default:function(){</div><div>// return {</div><div>// name:'fangjie'</div><div>// }</div><div>// }</div><div>},</div><div>//接受父组件中的函数</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">resetFn:Function</span></div><div>},</div></div><hr/><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><br/></span></div></div></span>
</div></body></html> 