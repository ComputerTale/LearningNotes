<html>
<head>
  <title>day19</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601535 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1367"/>
<h1>day19</h1>

<div>
<span><div><div><div>使用transition来添加过渡</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;!--                只能用来给一个元素添加动画--&gt;</div><div>&lt;!--                如果有多个元素，表示在多个元素之间进行切换--&gt;</div><div>                &lt;transition&gt;</div><div>                    &lt;div class=&quot;alert alert-info&quot; v-if=&quot;show&quot;&gt;</div><div>                        This is some Info</div><div>                    &lt;/div&gt;</div><div>                &lt;/transition&gt;</div></div><div>实际原理：</div><div>当一个元素被v-if、v-show添加到DOM上时，Vue会给它添加两个CSS类。</div><div>注意：只能用transition来渲染模板里存在的元素，不能来渲染通过appendchild添加的元素</div><div><img src="day19_files/Image.png" type="image/png" data-filename="Image.png"/></div><div>当元素被添加进DOM时：</div><ol><li><div>添加*-enter.css：表示初始第一帧，如果动画为淡入，此时就是透明度为0的那一帧</div></li><li><div>添加*-enter-active.css：表示过渡到开始的动画，动画时长，转变方式都在此设置</div></li></ol><div>当元素从DOM中被移除时：</div><ol><li><div>添加*-leave：表示初始第一帧</div></li><li><div>添加*-leave-active：表示过渡到结束的动画</div></li></ol><div>通过实现这些类，Vue就会自动读取自定义设置，从而实现效果</div><hr/><div>添加过渡：</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;transition name=&quot;fade&quot;&gt;</div><div>    &lt;div class=&quot;alert alert-info&quot; v-if=&quot;show&quot;&gt;</div><div>        This is some Info</div><div>    &lt;/div&gt;</div><div>&lt;/transition&gt;</div><div><br/></div><div>/*这一样式在最开始执行后就会被删除*/</div><div>.fade-enter {</div><div>    /*透明度*/</div><div>    opacity: 0;</div><div>}</div><div><br/></div><div>.fade-enter-active {</div><div>    /*在透明度上设置过渡，时间为1s*/</div><div>    <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">transition</span>: opacity 5s;</div><div>    /*这里不能设置透明度为1，会覆盖原来的0，*/</div><div>    /*过渡是在第一帧移除之前添加的*/</div><div>    /*opacity: 1;*/</div><div>}</div><div><br/></div><div>.fade-leave {</div><div>    /*这里的透明度可以省略，因为透明度默认为1*/</div><div>    /*opacity: 1;*/</div><div>}</div><div><br/></div><div>.fade-leave-active {</div><div>    <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">transition</span>: opacity 3s;</div><div>    opacity: 0;</div><div>}</div></div><hr/><div>添加动画：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;transition name=&quot;slide&quot;&gt;</div><div>    &lt;div class=&quot;alert alert-info&quot; v-if=&quot;show&quot;&gt;</div><div>        This is some Info</div><div>    &lt;/div&gt;</div><div>&lt;/transition&gt;</div><div><br/></div><div>.silde-enter{</div><div>    /*关键帧中已经设置好了，这里可以不用设置*/</div><div>    /*transform: translateY(20px);*/</div><div>}</div><div>.slide-enter-active{</div><div>    /*将关键帧加入动画属性，时长为1s*/</div><div>    /*调速函数ease-out：开始时快，结束时慢*/</div><div>    /*forwards:让元素在动画结束后不会跳回原位*/</div><div>   <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> animation</span>: slide-in 1s ease-out forwards;</div><div>}</div><div>.slide-leave{</div><div>}</div><div>.slide-leave-active{</div><div>    <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">animation</span>: slide-out 1s ease-out forwards;</div><div>}</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">设置关键帧</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">@keyframes</span> slide-in {</div><div>    from {</div><div>        transform: translateY(20px);</div><div>    }</div><div>    to {</div><div>        transform: translateY(0);</div><div>    }</div><div>}</div><div>@keyframes slide-out {</div><div>    from {</div><div>        transform: translateY(0);</div><div>    }</div><div>    to {</div><div>        transform: translateY(20px);</div><div>    }</div><div>}</div></div><hr/><div>同时使用过渡和动画</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#FF0000">type应设置为transition或者animation</font></div><div>&lt;transition name=&quot;slide&quot; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">type=&quot;animation&quot;</span>&gt;</div><div>    &lt;div class=&quot;alert alert-info&quot; v-if=&quot;show&quot;&gt;</div><div>        This is some Info</div><div>    &lt;/div&gt;</div><div>&lt;/transition&gt;</div><div><br/></div><div>.silde-enter{</div><div>    opacity:0;</div><div>    /*关键帧中已经设置好了，这里可以不用设置*/</div><div>    /*transform: translateY(20px);*/</div><div>}</div><div>.slide-enter-active{</div><div>    /*将关键帧加入动画属性，时长为1s，<font color="#FF0000">时间一过，元素就会被删除</font>*/</div><div>    /*调速函数ease-out：开始时快，结束时慢*/</div><div>    /*forwards:让元素在动画结束后不会跳回原位*/</div><div>    <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">animation</span>: slide-in <font color="#FF0000">1s</font> ease-out forwards;</div><div>    <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">transition</span>: opacity <font color="#FF0000">0.5s</font>;</div><div>}</div><div>.slide-leave{</div><div>}</div><div>.slide-leave-active{</div><div>    animation: slide-out 1s ease-out forwards;</div><div>    transition: opacity 1s;</div><div>    opacity: 0;</div><div>}</div><div>@keyframes slide-in {</div><div>    from {</div><div>        transform: translateY(20px);</div><div>    }</div><div>    to {</div><div>        transform: translateY(0);</div><div>    }</div><div>}</div><div>@keyframes slide-out {</div><div>    from {</div><div>        transform: translateY(0);</div><div>    }</div><div>    to {</div><div>        transform: translateY(20px);</div><div>    }</div><div>}</div></div><div>当两者同时使用时，要注意二者的时间属性，在默认情况下，Vue会以较长的时间作为转换的时间。也可以通过设置Transition的类型来决定以过渡还是动画为主</div><hr/><div>Transition里的属性与普通的HTML属性一样，都可以通过绑定来实现动态传值</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;select v-model=&quot;<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">alertAnimation</span>&quot; class=&quot;form-control&quot;&gt;</div><div>    &lt;option value=&quot;fade&quot;&gt;Fade&lt;/option&gt;</div><div>    &lt;option value=&quot;slide&quot;&gt;Slide&lt;/option&gt;</div><div>&lt;/select&gt;</div><div>&lt;transition <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">:name=&quot;alertAnimation&quot;</span>&gt;</div><div>    &lt;div class=&quot;alert alert-info&quot; v-if=&quot;show&quot;&gt;</div><div>        This is some Info</div><div>    &lt;/div&gt;</div><div>&lt;/transition&gt;</div><div><br/></div><div>export default {</div><div>    data() {</div><div>        return {</div><div>            show: true,</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">            alertAnimation:'fade'</span></div><div>        }</div><div>    }</div><div>}</div></div><div><br/></div></div></span>
</div></body></html> 