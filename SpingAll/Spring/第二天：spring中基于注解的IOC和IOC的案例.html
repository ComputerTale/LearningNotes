<html>
<head>
  <title>第二天：spring中基于注解的IOC和IOC的案例</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601535 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1308"/>
<h1>第二天：spring中基于注解的IOC和IOC的案例</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">spring中ioc的常用注解</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">spring使用xml的方式实现方式（创建bean，并使用set方式注入数据）</h4>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> * 曾经xml配置：
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">id</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;accountService&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">class</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>
 *          <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">scope</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">init-method</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">destory-method</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span>&gt;</span>
 *          <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">name</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">value</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span> | <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">ref</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;&quot;</span>&gt;</span><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">property</span>&gt;</span>
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">bean</span>&gt;</span>
</code></pre>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">使用注解的方式实现</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">spring注解类别</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">1、用于创建bean的注解--4个功能一样标签</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> *      对应bean标签
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@component</span>:
 *      作用：把当前类对象存入spring容器
 *      属性：
 *          value：用于指定当前的id，默认当前类名，首字母小写
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Controller</span>:一般用在表现层
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Service</span>:一般用在业务层
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Repository</span>:一般用在持久层
 * 以上三个注解他们的作用和属性与Component是一模一样。
 * 他们三个是spring框架为我们提供明确的三层使用的注释，使我们的三层对象更加清晰
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">2、用于注入数据的注解--集合类型数据注入只能使用XML配置</strong><br/>
对应XML中property标签<br/>
1、注入bean类型的数据</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Autowired</span>
 *      作用：自动按照类型注入。只要容器有唯一的一个bean对象类型和要注入的类型匹配，就可以注入成功
 *          如果spring容器(Map&lt;String,Object&gt;)中bean对象类型和要注入类型都不匹配，则报错
 *          如果spring容器中存在多个bean对象类型和要注入类型匹配，则进一步匹配变量名和bean的id
 *              如果变量名和容器中bean的id匹配，则注入成功
 *              如果变量名和容器中bean的id均不匹配，则报错
 *      出现位置：
 *          可以是变量上，也可以是方法上
 *      细节：
 *          在使用注解注入时，set方法不是必须的
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Qualifier</span>
 *      作用：在按照类型注入的（<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Autowired</span>）基础之上再按照名称注入。它在给类成员注入时不能单独使用，但是在给方法参数注入时可以
 *      属性：
 *          value：用于指定注入bean的id
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Resource</span>
 *      作用：直接按照bean的id注入，可以独立使用，不能用于方法参数上
 *      属性：
 *          name：用于指定注入bean的id
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">使用自动注入的附加说明<br/>
<img src="第二天：spring中基于注解的IOC和IOC的案例_files/自动按照类型注入.png" type="image/png" data-filename="自动按照类型注入.png"/><br/>
2、注入基本数据类型和String类型的数据</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">* @Value
*      作用：用于注入基本类型和String类型的数据
*      属性：
*          value：用于指定数据的值。它可以使用spring中的SqEL（spring的el表达式）
*              SqEL的写法：${}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">3、集合类型的数据注入只能通过XML实现<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">3、用于改变bean作用范围的注解</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"> *      对应bean标签的scope属性
 * <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Scope</span>
 *      作用：用于指定bean的作用范围
 *      属性：
 *          value：指定范围的取值。常用取值：singleton、prototype
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">4、声明bean的生命周期的注解</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">*      对应bean标签的init-method和destory-method属性
* @PreDestory
*      作用：用于指定销毁方法
* @PostConstruct
*      作用：用于指定初始化方法
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">使用注解实现</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第一步：配置xml，告知spring创建容器时要使用的包</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">beans</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">xmlns</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">xmlns:xsi</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">xmlns:context</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;http://www.springframework.org/schema/context&quot;</span>
       <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">xsi:schemaLocation</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span>
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">&lt;!-- 告知spring在创建容器时要扫描的包，配置所需要的标签不是在beans的约束中--&gt;</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">context:component-scan</span> <span style="color: #9cdcfe; line-height: 160%; box-sizing: content-box;">base-package</span>=<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.itheima&quot;</span>/&gt;</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">&lt;/<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">beans</span>&gt;</span>
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">第二步：在要添加的bean中加入注解</strong></p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Service</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;accountService&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">AccountServiceImpl</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">implements</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">IAccountService</span> </span>{
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Resource</span>(name = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;accountDao&quot;</span>)
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> IAccountDao accountDao;
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@PostConstruct</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">init</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;初始化&quot;</span>);
    }
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@PreDestroy</span>
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">destory</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span></span>{
        System.out.println(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;销毁&quot;</span>);
    }
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">void</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">saveAccount</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span> </span>{
        accountDao.saveAccount();
    }
}
</code></pre>
<hr style="line-height: 160%; box-sizing: content-box; border-top: 1px solid #eee; margin: 16px 0;"/>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">案例使用xml方式和注解方式实现单表的CURD操作，持久层选用dutils</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">纯XML方式配置bean</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="第二天：spring中基于注解的IOC和IOC的案例_files/Image.png" type="image/png" data-filename="Image.png"/></p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">注解和XML混合方式配置bean</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="第二天：spring中基于注解的IOC和IOC的案例_files/Image [1].png" type="image/png" data-filename="Image.png"/><br/>
<img src="第二天：spring中基于注解的IOC和IOC的案例_files/Image [2].png" type="image/png" data-filename="Image.png"/></p>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">XML方式配置dbutils和c3p0来连接数据库(配合上述两种方式)</h5>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">原因：由于不能修改jar包源码，所以不能使用注解来创建这些对象</strong><br/>
<img src="第二天：spring中基于注解的IOC和IOC的案例_files/Image [3].png" type="image/png" data-filename="Image.png"/></p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">改造基于注解的ioc案例，使用纯注解的方式实现，spring的一些新注解使用</h4>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">主配置文件</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/**
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@author</span> fangjie
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@version</span> 1.0
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@date</span> 2020/2/17 20:20
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@description</span> 该类是一个配置类，它的作用和bean.xml是一样的
 * spring中的新注解
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@Configuration</span>
 *      作用：指定当前类是一个配置类，同时加入到容器中
 *      细节：
 *          1.当配置类作为AnnotationConfigApplicationContext对象创建的容器时，可以不写
            2.当配置类被Import注解引入时，可以不写
            3.作为参数引入时，各个配置类的地位一样；import注解引入时，使用import注解的配置类为主配置文件，被引入的是子配置文件
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>
 *      作用：用于通过注解指定spring在创建容器时要扫描的包
 *      属性：
 *          value：它和basePackages的作用一样，用于指定创建容器时要扫描的包
 *              使用此注解就等同于在xml中配置：
 *                  &lt;context:component-scan base-package=&quot;com.itheima&quot;/&gt;
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@Bean</span>
 *      作用：用于把当前方法的返回值作为bean对象存入spring的ioc容器中
 *      属性：
 *          name：用于指定bean的id。当不写时，默认值是当前方法的名称
 *          value：等同于value
 *      细节：
 *          当我们使用注解配置方法时，如果方法有参数，spring框架会去容器中查找有没有可用的bean对象。
 *          查找方式和Autowired注解作用一样。
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@Import</span>
 *      作用：用于导入其他的配置类
 *      属性：
 *          value：用于指定其他配置类的字节码，有Import注解的类就是父配置类，导入的都是子配置类
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@PropertySource</span>
 *      作用：用于指定properties文件的位置
 *      属性：
 *          value：指定文件的名称和路径
 *              关键字：classpath，表示类路径下
 */</span>
<span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">//@Configuration</span>
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@ComponentScan</span>(basePackages = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;com.itheima&quot;</span>)
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Import</span>(JdbcConfig.class)
<span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@PropertySource</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;classpath:jdbcConfig.properties&quot;</span>)
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">SpringConfiguration</span> </span>{
}
</code></pre>
<h5 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 16px; color: #333;">子配置文件</h5>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"><span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/**
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@author</span> fangjie
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@version</span> 1.0
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@date</span> 2020/2/17 20:48
 * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@description</span> 和spring连接数据库相关的配置
 */</span>
<span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> <span style="color: #b8d7a3; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">class</span> <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">JdbcConfig</span> </span>{
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Value</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${jdbc.driver}&quot;</span>)
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> String driver;
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Value</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${jdbc.url}&quot;</span>)
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> String url;
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Value</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${jdbc.username}&quot;</span>)
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> String username;
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Value</span>(<span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;${jdbc.password}&quot;</span>)
    <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">private</span> String password;
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/**
     * 用于创建QueryRunner对象
     * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@param</span> dataSource
     * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@return</span>
     */</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;runner&quot;</span>)
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Scope</span>(value = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;prototype&quot;</span>)
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> QueryRunner <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">createQueryRunner</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">(DataSource dataSource)</span> </span>{
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> QueryRunner(dataSource);
    }
    <span style="color: #57a64a; font-style: italic; line-height: 160%; box-sizing: content-box;">/**
     * 创建数据源
     * <span style="color: #608b4e; line-height: 160%; box-sizing: content-box;">@return</span>
     */</span>
    <span style="color: #9b9b9b; line-height: 160%; box-sizing: content-box;">@Bean</span>(name = <span style="color: #d69d85; line-height: 160%; box-sizing: content-box;">&quot;dataSource&quot;</span>)
    <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;"><span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">public</span> DataSource <span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">createDataSource</span><span style="color: #dcdcdc; line-height: 160%; box-sizing: content-box;">()</span> </span>{
        ComboPooledDataSource dataSource = <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> ComboPooledDataSource();
        <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">try</span> {
            dataSource.setDriverClass(driver);
            dataSource.setJdbcUrl(url);
            dataSource.setUser(username);
            dataSource.setPassword(password);
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">return</span> dataSource;
        } <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">catch</span> (PropertyVetoException e) {
            <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">throw</span> <span style="color: #569cd6; line-height: 160%; box-sizing: content-box;">new</span> RuntimeException(e);
        }
    }
}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">关于方法参数注入</strong><br/>
<img src="第二天：spring中基于注解的IOC和IOC的案例_files/Image [4].png" type="image/png" data-filename="Image.png"/></p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">spring和Junit的整合</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">1.应用程序的入口<br/>
main方法<br/>
2.junit单元测试中，没有main方法也能执行</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">junit集成了一个main方法</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">该方法会判断当前测试类中哪些方法有@Test注解，然后执行<br/>
3.junit并不知道spring框架的存在，所以不会自动读取配置文件，创建spring核心容器</li>
</ul>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">/**
 * @author fangjie
 * @version 1.0
 * @date 2020/2/17 14:16
 * @description 使用Junit单元测试，测试我们的配置
 * Spring整合Junit的配置步骤
 * 1.导入spring整合junit的坐标
 * 2.使用Junit提供的一个注解把原有的main方法替换了，替换成spring提供的
 * @Runwith 3.告知spring的运行器，spring和ioc创建是基于xml还是注解，并且说明位置
 * @ContextConfiguration locatoins:指定xml文件的位置，加上classpath关键字，表示在类路径下
 * classes：指定注解类所在位置
 * 当使用spring 5.x版本的时候，要求junit的jar包必须是4.12
 */
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = SpringConfiguration.class)
public class AccountServiceTest {
    @Resource(name = &quot;accountService&quot;)
    private IAccountService service;
    @Test
    public void testFindAll() {
        //3.执行方法
        List&lt;Account&gt; accounts = service.findAllAccount();
        for (Account account : accounts) {
            System.out.println(account);
        }
    }
}
</code></pre>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%23%23%20spring%E4%B8%ADioc%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%0A%23%23%23%23%20spring%E4%BD%BF%E7%94%A8xml%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%88%E5%88%9B%E5%BB%BAbean%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8set%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%89%0A%60%60%60XML%0A%20*%20%E6%9B%BE%E7%BB%8Fxml%E9%85%8D%E7%BD%AE%EF%BC%9A%0A%20*%20%3Cbean%20id%3D%22accountService%22%20class%3D%22com.itheima.service.impl.AccountServiceImpl%22%0A%20*%20%20%20%20%20%20%20%20%20%20scope%3D%22%22%20init-method%3D%22%22%20destory-method%3D%22%22%3E%0A%20*%20%20%20%20%20%20%20%20%20%20%3Cproperty%20name%3D%22%22%20value%3D%22%22%20%7C%20ref%3D%22%22%3E%3C%2Fproperty%3E%0A%20*%20%3C%2Fbean%3E%0A%60%60%60%0A%23%23%23%23%20%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%0A%23%23%23%23%23%20spring%E6%B3%A8%E8%A7%A3%E7%B1%BB%E5%88%AB%0A**1%E3%80%81%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BAbean%E7%9A%84%E6%B3%A8%E8%A7%A3--4%E4%B8%AA%E5%8A%9F%E8%83%BD%E4%B8%80%E6%A0%B7%E6%A0%87%E7%AD%BE**%0A%60%60%60java%0A%20*%20%20%20%20%20%20%E5%AF%B9%E5%BA%94bean%E6%A0%87%E7%AD%BE%0A%20*%20%40component%3A%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E6%8A%8A%E5%BD%93%E5%89%8D%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%85%A5spring%E5%AE%B9%E5%99%A8%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E5%BD%93%E5%89%8D%E7%9A%84id%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%BD%93%E5%89%8D%E7%B1%BB%E5%90%8D%EF%BC%8C%E9%A6%96%E5%AD%97%E6%AF%8D%E5%B0%8F%E5%86%99%0A%20*%20%40Controller%3A%E4%B8%80%E8%88%AC%E7%94%A8%E5%9C%A8%E8%A1%A8%E7%8E%B0%E5%B1%82%0A%20*%20%40Service%3A%E4%B8%80%E8%88%AC%E7%94%A8%E5%9C%A8%E4%B8%9A%E5%8A%A1%E5%B1%82%0A%20*%20%40Repository%3A%E4%B8%80%E8%88%AC%E7%94%A8%E5%9C%A8%E6%8C%81%E4%B9%85%E5%B1%82%0A%20*%20%E4%BB%A5%E4%B8%8A%E4%B8%89%E4%B8%AA%E6%B3%A8%E8%A7%A3%E4%BB%96%E4%BB%AC%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E5%B1%9E%E6%80%A7%E4%B8%8EComponent%E6%98%AF%E4%B8%80%E6%A8%A1%E4%B8%80%E6%A0%B7%E3%80%82%0A%20*%20%E4%BB%96%E4%BB%AC%E4%B8%89%E4%B8%AA%E6%98%AFspring%E6%A1%86%E6%9E%B6%E4%B8%BA%E6%88%91%E4%BB%AC%E6%8F%90%E4%BE%9B%E6%98%8E%E7%A1%AE%E7%9A%84%E4%B8%89%E5%B1%82%E4%BD%BF%E7%94%A8%E7%9A%84%E6%B3%A8%E9%87%8A%EF%BC%8C%E4%BD%BF%E6%88%91%E4%BB%AC%E7%9A%84%E4%B8%89%E5%B1%82%E5%AF%B9%E8%B1%A1%E6%9B%B4%E5%8A%A0%E6%B8%85%E6%99%B0%0A%60%60%60%0A**2%E3%80%81%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%B3%A8%E8%A7%A3--%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%B3%A8%E5%85%A5%E5%8F%AA%E8%83%BD%E4%BD%BF%E7%94%A8XML%E9%85%8D%E7%BD%AE**%0A%E5%AF%B9%E5%BA%94XML%E4%B8%ADproperty%E6%A0%87%E7%AD%BE%0A1%E3%80%81%E6%B3%A8%E5%85%A5bean%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%0A%60%60%60java%0A%20*%20%40Autowired%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E8%87%AA%E5%8A%A8%E6%8C%89%E7%85%A7%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5%E3%80%82%E5%8F%AA%E8%A6%81%E5%AE%B9%E5%99%A8%E6%9C%89%E5%94%AF%E4%B8%80%E7%9A%84%E4%B8%80%E4%B8%AAbean%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%A6%81%E6%B3%A8%E5%85%A5%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%B3%A8%E5%85%A5%E6%88%90%E5%8A%9F%0A%20*%20%20%20%20%20%20%20%20%20%20%E5%A6%82%E6%9E%9Cspring%E5%AE%B9%E5%99%A8(Map%3CString%2CObject%3E)%E4%B8%ADbean%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%A6%81%E6%B3%A8%E5%85%A5%E7%B1%BB%E5%9E%8B%E9%83%BD%E4%B8%8D%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%88%99%E6%8A%A5%E9%94%99%0A%20*%20%20%20%20%20%20%20%20%20%20%E5%A6%82%E6%9E%9Cspring%E5%AE%B9%E5%99%A8%E4%B8%AD%E5%AD%98%E5%9C%A8%E5%A4%9A%E4%B8%AAbean%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%A6%81%E6%B3%A8%E5%85%A5%E7%B1%BB%E5%9E%8B%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%88%99%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%8C%B9%E9%85%8D%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8Cbean%E7%9A%84id%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%A6%82%E6%9E%9C%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%AE%B9%E5%99%A8%E4%B8%ADbean%E7%9A%84id%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%88%99%E6%B3%A8%E5%85%A5%E6%88%90%E5%8A%9F%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%A6%82%E6%9E%9C%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%AE%B9%E5%99%A8%E4%B8%ADbean%E7%9A%84id%E5%9D%87%E4%B8%8D%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%88%99%E6%8A%A5%E9%94%99%0A%20*%20%20%20%20%20%20%E5%87%BA%E7%8E%B0%E4%BD%8D%E7%BD%AE%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%8F%98%E9%87%8F%E4%B8%8A%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%AF%E6%96%B9%E6%B3%95%E4%B8%8A%0A%20*%20%20%20%20%20%20%E7%BB%86%E8%8A%82%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20%E5%9C%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%B3%A8%E5%85%A5%E6%97%B6%EF%BC%8Cset%E6%96%B9%E6%B3%95%E4%B8%8D%E6%98%AF%E5%BF%85%E9%A1%BB%E7%9A%84%0A%20*%20%40Qualifier%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E5%9C%A8%E6%8C%89%E7%85%A7%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5%E7%9A%84%EF%BC%88%40Autowired%EF%BC%89%E5%9F%BA%E7%A1%80%E4%B9%8B%E4%B8%8A%E5%86%8D%E6%8C%89%E7%85%A7%E5%90%8D%E7%A7%B0%E6%B3%A8%E5%85%A5%E3%80%82%E5%AE%83%E5%9C%A8%E7%BB%99%E7%B1%BB%E6%88%90%E5%91%98%E6%B3%A8%E5%85%A5%E6%97%B6%E4%B8%8D%E8%83%BD%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BD%86%E6%98%AF%E5%9C%A8%E7%BB%99%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E6%B3%A8%E5%85%A5%E6%97%B6%E5%8F%AF%E4%BB%A5%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E6%B3%A8%E5%85%A5bean%E7%9A%84id%0A%20*%20%40Resource%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%9B%B4%E6%8E%A5%E6%8C%89%E7%85%A7bean%E7%9A%84id%E6%B3%A8%E5%85%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%8B%AC%E7%AB%8B%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%94%A8%E4%BA%8E%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E4%B8%8A%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20name%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E6%B3%A8%E5%85%A5bean%E7%9A%84id%0A%20%60%60%60%0A%20%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5%E7%9A%84%E9%99%84%E5%8A%A0%E8%AF%B4%E6%98%8E%0A%20!%5B18d5ed9f5902acafa4ffa39558c8a226.png%5D(en-resource%3A%2F%2Fdatabase%2F4380%3A1)%0A%202%E3%80%81%E6%B3%A8%E5%85%A5%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8CString%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%0A%20%60%60%60%0A%20*%20%40Value%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%85%A5%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8CString%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E6%95%B0%E6%8D%AE%E7%9A%84%E5%80%BC%E3%80%82%E5%AE%83%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8spring%E4%B8%AD%E7%9A%84SqEL%EF%BC%88spring%E7%9A%84el%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%89%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20SqEL%E7%9A%84%E5%86%99%E6%B3%95%EF%BC%9A%24%7B%7D%0A%60%60%60%0A3%E3%80%81%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E6%B3%A8%E5%85%A5%E5%8F%AA%E8%83%BD%E9%80%9A%E8%BF%87XML%E5%AE%9E%E7%8E%B0%0A**3%E3%80%81%E7%94%A8%E4%BA%8E%E6%94%B9%E5%8F%98bean%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E7%9A%84%E6%B3%A8%E8%A7%A3**%0A%60%60%60java%0A%20*%20%20%20%20%20%20%E5%AF%B9%E5%BA%94bean%E6%A0%87%E7%AD%BE%E7%9A%84scope%E5%B1%9E%E6%80%A7%0A%20*%20%40Scope%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9Abean%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E7%9A%84%E5%8F%96%E5%80%BC%E3%80%82%E5%B8%B8%E7%94%A8%E5%8F%96%E5%80%BC%EF%BC%9Asingleton%E3%80%81prototype%0A%20%60%60%60%0A%20**4%E3%80%81%E5%A3%B0%E6%98%8Ebean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%B3%A8%E8%A7%A3**%0A%20%60%60%60%0A%20*%20%20%20%20%20%20%E5%AF%B9%E5%BA%94bean%E6%A0%87%E7%AD%BE%E7%9A%84init-method%E5%92%8Cdestory-method%E5%B1%9E%E6%80%A7%0A%20*%20%40PreDestory%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E9%94%80%E6%AF%81%E6%96%B9%E6%B3%95%0A%20*%20%40PostConstruct%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95%0A%60%60%60%0A%23%23%23%23%23%20%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0%0A**%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E9%85%8D%E7%BD%AExml%EF%BC%8C%E5%91%8A%E7%9F%A5spring%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E8%A6%81%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8C%85**%0A%60%60%60XML%0A%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Cbeans%20xmlns%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%22%0A%20%20%20%20%20%20%20xmlns%3Axsi%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema-instance%22%0A%20%20%20%20%20%20%20xmlns%3Acontext%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%22%0A%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%22http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%0A%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fbeans%2Fspring-beans.xsd%0A%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%0A%20%20%20%20%20%20%20%20http%3A%2F%2Fwww.springframework.org%2Fschema%2Fcontext%2Fspring-context.xsd%22%3E%0A%20%20%20%20%3C!--%20%E5%91%8A%E7%9F%A5spring%E5%9C%A8%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%89%80%E9%9C%80%E8%A6%81%E7%9A%84%E6%A0%87%E7%AD%BE%E4%B8%8D%E6%98%AF%E5%9C%A8beans%E7%9A%84%E7%BA%A6%E6%9D%9F%E4%B8%AD--%3E%0A%20%20%20%20%3Ccontext%3Acomponent-scan%20base-package%3D%22com.itheima%22%2F%3E%0A%3C%2Fbeans%3E%0A%60%60%60%0A**%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%9C%A8%E8%A6%81%E6%B7%BB%E5%8A%A0%E7%9A%84bean%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%B3%A8%E8%A7%A3**%0A%60%60%60java%0A%40Service(value%20%3D%20%22accountService%22)%0Apublic%20class%20AccountServiceImpl%20implements%20IAccountService%20%7B%0A%20%20%20%20%40Resource(name%20%3D%20%22accountDao%22)%0A%20%20%20%20private%20IAccountDao%20accountDao%3B%0A%20%20%20%20%40PostConstruct%0A%20%20%20%20public%20void%20init()%7B%0A%20%20%20%20%20%20%20%20System.out.println(%22%E5%88%9D%E5%A7%8B%E5%8C%96%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%40PreDestroy%0A%20%20%20%20public%20void%20destory()%7B%0A%20%20%20%20%20%20%20%20System.out.println(%22%E9%94%80%E6%AF%81%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20public%20void%20saveAccount()%20%7B%0A%20%20%20%20%20%20%20%20accountDao.saveAccount()%3B%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A%0A*%20*%20*%0A%0A%23%23%23%23%20%E6%A1%88%E4%BE%8B%E4%BD%BF%E7%94%A8xml%E6%96%B9%E5%BC%8F%E5%92%8C%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%A8%E7%9A%84CURD%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%8C%81%E4%B9%85%E5%B1%82%E9%80%89%E7%94%A8dutils%0A%23%23%23%23%23%20%E7%BA%AFXML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEbean%0A!%5Ba20f8f75857315a89892ffd18ae9c854.png%5D(en-resource%3A%2F%2Fdatabase%2F4388%3A1)%0A%23%23%23%23%23%20%E6%B3%A8%E8%A7%A3%E5%92%8CXML%E6%B7%B7%E5%90%88%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEbean%0A!%5B5df30b0bb505ddcc0ed6465b36e99399.png%5D(en-resource%3A%2F%2Fdatabase%2F4396%3A1)%0A!%5B88fb1c5d2cf3850d209398d7cd766709.png%5D(en-resource%3A%2F%2Fdatabase%2F4394%3A1)%0A%23%23%23%23%23%20XML%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AEdbutils%E5%92%8Cc3p0%E6%9D%A5%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93(%E9%85%8D%E5%90%88%E4%B8%8A%E8%BF%B0%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F)%0A**%E5%8E%9F%E5%9B%A0%EF%BC%9A%E7%94%B1%E4%BA%8E%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9jar%E5%8C%85%E6%BA%90%E7%A0%81%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%9D%A5%E5%88%9B%E5%BB%BA%E8%BF%99%E4%BA%9B%E5%AF%B9%E8%B1%A1**%0A!%5B885c94e49fea4f19e7bed9ad3b30e246.png%5D(en-resource%3A%2F%2Fdatabase%2F4390%3A1)%0A%23%23%23%23%20%E6%94%B9%E9%80%A0%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84ioc%E6%A1%88%E4%BE%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%EF%BC%8Cspring%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B0%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8%0A%23%23%23%23%23%20%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%60%60%60java%0A%2F**%0A%20*%20%40author%20fangjie%0A%20*%20%40version%201.0%0A%20*%20%40date%202020%2F2%2F17%2020%3A20%0A%20*%20%40description%20%E8%AF%A5%E7%B1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%EF%BC%8C%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8Cbean.xml%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%0A%20*%20spring%E4%B8%AD%E7%9A%84%E6%96%B0%E6%B3%A8%E8%A7%A3%0A%20*%20%40Configuration%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E6%8C%87%E5%AE%9A%E5%BD%93%E5%89%8D%E7%B1%BB%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8A%A0%E5%85%A5%E5%88%B0%E5%AE%B9%E5%99%A8%E4%B8%AD%0A%20*%20%20%20%20%20%20%E7%BB%86%E8%8A%82%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%201.%E5%BD%93%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%BD%9C%E4%B8%BAAnnotationConfigApplicationContext%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E7%9A%84%E5%AE%B9%E5%99%A8%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%86%99%0A%20%20%20%20%20%20%20%20%20%20%20%202.%E5%BD%93%E9%85%8D%E7%BD%AE%E7%B1%BB%E8%A2%ABImport%E6%B3%A8%E8%A7%A3%E5%BC%95%E5%85%A5%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%86%99%0A%20%20%20%20%20%20%20%20%20%20%20%203.%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E5%BC%95%E5%85%A5%E6%97%B6%EF%BC%8C%E5%90%84%E4%B8%AA%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84%E5%9C%B0%E4%BD%8D%E4%B8%80%E6%A0%B7%EF%BC%9Bimport%E6%B3%A8%E8%A7%A3%E5%BC%95%E5%85%A5%E6%97%B6%EF%BC%8C%E4%BD%BF%E7%94%A8import%E6%B3%A8%E8%A7%A3%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB%E4%B8%BA%E4%B8%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E8%A2%AB%E5%BC%95%E5%85%A5%E7%9A%84%E6%98%AF%E5%AD%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%20*%20%40ComponentScan%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E6%8C%87%E5%AE%9Aspring%E5%9C%A8%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E5%AE%83%E5%92%8CbasePackages%E7%9A%84%E4%BD%9C%E7%94%A8%E4%B8%80%E6%A0%B7%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E8%A6%81%E6%89%AB%E6%8F%8F%E7%9A%84%E5%8C%85%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E4%BD%BF%E7%94%A8%E6%AD%A4%E6%B3%A8%E8%A7%A3%E5%B0%B1%E7%AD%89%E5%90%8C%E4%BA%8E%E5%9C%A8xml%E4%B8%AD%E9%85%8D%E7%BD%AE%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ccontext%3Acomponent-scan%20base-package%3D%22com.itheima%22%2F%3E%0A%20*%20%40Bean%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8A%8A%E5%BD%93%E5%89%8D%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E4%BD%9C%E4%B8%BAbean%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%85%A5spring%E7%9A%84ioc%E5%AE%B9%E5%99%A8%E4%B8%AD%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20name%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9Abean%E7%9A%84id%E3%80%82%E5%BD%93%E4%B8%8D%E5%86%99%E6%97%B6%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%80%BC%E6%98%AF%E5%BD%93%E5%89%8D%E6%96%B9%E6%B3%95%E7%9A%84%E5%90%8D%E7%A7%B0%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E7%AD%89%E5%90%8C%E4%BA%8Evalue%0A%20*%20%20%20%20%20%20%E7%BB%86%E8%8A%82%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20%E5%BD%93%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%96%B9%E6%B3%95%E6%9C%89%E5%8F%82%E6%95%B0%EF%BC%8Cspring%E6%A1%86%E6%9E%B6%E4%BC%9A%E5%8E%BB%E5%AE%B9%E5%99%A8%E4%B8%AD%E6%9F%A5%E6%89%BE%E6%9C%89%E6%B2%A1%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84bean%E5%AF%B9%E8%B1%A1%E3%80%82%0A%20*%20%20%20%20%20%20%20%20%20%20%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F%E5%92%8CAutowired%E6%B3%A8%E8%A7%A3%E4%BD%9C%E7%94%A8%E4%B8%80%E6%A0%B7%E3%80%82%0A%20*%20%40Import%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%AF%BC%E5%85%A5%E5%85%B6%E4%BB%96%E7%9A%84%E9%85%8D%E7%BD%AE%E7%B1%BB%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9A%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81%EF%BC%8C%E6%9C%89Import%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%B1%BB%E5%B0%B1%E6%98%AF%E7%88%B6%E9%85%8D%E7%BD%AE%E7%B1%BB%EF%BC%8C%E5%AF%BC%E5%85%A5%E7%9A%84%E9%83%BD%E6%98%AF%E5%AD%90%E9%85%8D%E7%BD%AE%E7%B1%BB%0A%20*%20%40PropertySource%0A%20*%20%20%20%20%20%20%E4%BD%9C%E7%94%A8%EF%BC%9A%E7%94%A8%E4%BA%8E%E6%8C%87%E5%AE%9Aproperties%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%8D%E7%BD%AE%0A%20*%20%20%20%20%20%20%E5%B1%9E%E6%80%A7%EF%BC%9A%0A%20*%20%20%20%20%20%20%20%20%20%20value%EF%BC%9A%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8D%E7%A7%B0%E5%92%8C%E8%B7%AF%E5%BE%84%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%9Aclasspath%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%B1%BB%E8%B7%AF%E5%BE%84%E4%B8%8B%0A%20*%2F%0A%2F%2F%40Configuration%0A%40ComponentScan(basePackages%20%3D%20%22com.itheima%22)%0A%40Import(JdbcConfig.class)%0A%40PropertySource(value%20%3D%20%22classpath%3AjdbcConfig.properties%22)%0Apublic%20class%20SpringConfiguration%20%7B%0A%7D%0A%60%60%60%0A%23%23%23%23%23%20%E5%AD%90%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%60%60%60java%0A%2F**%0A%20*%20%40author%20fangjie%0A%20*%20%40version%201.0%0A%20*%20%40date%202020%2F2%2F17%2020%3A48%0A%20*%20%40description%20%E5%92%8Cspring%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%0A%20*%2F%0Apublic%20class%20JdbcConfig%20%7B%0A%20%20%20%20%40Value(%22%24%7Bjdbc.driver%7D%22)%0A%20%20%20%20private%20String%20driver%3B%0A%20%20%20%20%40Value(%22%24%7Bjdbc.url%7D%22)%0A%20%20%20%20private%20String%20url%3B%0A%20%20%20%20%40Value(%22%24%7Bjdbc.username%7D%22)%0A%20%20%20%20private%20String%20username%3B%0A%20%20%20%20%40Value(%22%24%7Bjdbc.password%7D%22)%0A%20%20%20%20private%20String%20password%3B%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BAQueryRunner%E5%AF%B9%E8%B1%A1%0A%20%20%20%20%20*%20%40param%20dataSource%0A%20%20%20%20%20*%20%40return%0A%20%20%20%20%20*%2F%0A%20%20%20%20%40Bean(value%20%3D%20%22runner%22)%0A%20%20%20%20%40Scope(value%20%3D%20%22prototype%22)%0A%20%20%20%20public%20QueryRunner%20createQueryRunner(DataSource%20dataSource)%20%7B%0A%20%20%20%20%20%20%20%20return%20new%20QueryRunner(dataSource)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F**%0A%20%20%20%20%20*%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%BA%90%0A%20%20%20%20%20*%20%40return%0A%20%20%20%20%20*%2F%0A%20%20%20%20%40Bean(name%20%3D%20%22dataSource%22)%0A%20%20%20%20public%20DataSource%20createDataSource()%20%7B%0A%20%20%20%20%20%20%20%20ComboPooledDataSource%20dataSource%20%3D%20new%20ComboPooledDataSource()%3B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dataSource.setDriverClass(driver)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dataSource.setJdbcUrl(url)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dataSource.setUser(username)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dataSource.setPassword(password)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20dataSource%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(PropertyVetoException%20e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20RuntimeException(e)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60%0A**%E5%85%B3%E4%BA%8E%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E6%B3%A8%E5%85%A5**%0A!%5B538b2beeb92b4336b3692472aa0a9dec.png%5D(en-resource%3A%2F%2Fdatabase%2F4398%3A1)%0A%23%23%23%23%20spring%E5%92%8CJunit%E7%9A%84%E6%95%B4%E5%90%88%0A1.%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%85%A5%E5%8F%A3%0A%20%20%20%20main%E6%96%B9%E6%B3%95%0A2.junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E4%B8%AD%EF%BC%8C%E6%B2%A1%E6%9C%89main%E6%96%B9%E6%B3%95%E4%B9%9F%E8%83%BD%E6%89%A7%E8%A1%8C%0A*%20%20junit%E9%9B%86%E6%88%90%E4%BA%86%E4%B8%80%E4%B8%AAmain%E6%96%B9%E6%B3%95%0A*%20%E8%AF%A5%E6%96%B9%E6%B3%95%E4%BC%9A%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%B8%AD%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95%E6%9C%89%40Test%E6%B3%A8%E8%A7%A3%EF%BC%8C%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%0A3.junit%E5%B9%B6%E4%B8%8D%E7%9F%A5%E9%81%93spring%E6%A1%86%E6%9E%B6%E7%9A%84%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E5%88%9B%E5%BB%BAspring%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%0A%60%60%60%0A%2F**%0A%20*%20%40author%20fangjie%0A%20*%20%40version%201.0%0A%20*%20%40date%202020%2F2%2F17%2014%3A16%0A%20*%20%40description%20%E4%BD%BF%E7%94%A8Junit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%EF%BC%8C%E6%B5%8B%E8%AF%95%E6%88%91%E4%BB%AC%E7%9A%84%E9%85%8D%E7%BD%AE%0A%20*%20Spring%E6%95%B4%E5%90%88Junit%E7%9A%84%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4%0A%20*%201.%E5%AF%BC%E5%85%A5spring%E6%95%B4%E5%90%88junit%E7%9A%84%E5%9D%90%E6%A0%87%0A%20*%202.%E4%BD%BF%E7%94%A8Junit%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%80%E4%B8%AA%E6%B3%A8%E8%A7%A3%E6%8A%8A%E5%8E%9F%E6%9C%89%E7%9A%84main%E6%96%B9%E6%B3%95%E6%9B%BF%E6%8D%A2%E4%BA%86%EF%BC%8C%E6%9B%BF%E6%8D%A2%E6%88%90spring%E6%8F%90%E4%BE%9B%E7%9A%84%0A%20*%20%40Runwith%203.%E5%91%8A%E7%9F%A5spring%E7%9A%84%E8%BF%90%E8%A1%8C%E5%99%A8%EF%BC%8Cspring%E5%92%8Cioc%E5%88%9B%E5%BB%BA%E6%98%AF%E5%9F%BA%E4%BA%8Exml%E8%BF%98%E6%98%AF%E6%B3%A8%E8%A7%A3%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%AF%B4%E6%98%8E%E4%BD%8D%E7%BD%AE%0A%20*%20%40ContextConfiguration%20locatoins%3A%E6%8C%87%E5%AE%9Axml%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E5%8A%A0%E4%B8%8Aclasspath%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8C%E8%A1%A8%E7%A4%BA%E5%9C%A8%E7%B1%BB%E8%B7%AF%E5%BE%84%E4%B8%8B%0A%20*%20classes%EF%BC%9A%E6%8C%87%E5%AE%9A%E6%B3%A8%E8%A7%A3%E7%B1%BB%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%0A%20*%20%E5%BD%93%E4%BD%BF%E7%94%A8spring%205.x%E7%89%88%E6%9C%AC%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E8%A6%81%E6%B1%82junit%E7%9A%84jar%E5%8C%85%E5%BF%85%E9%A1%BB%E6%98%AF4.12%0A%20*%2F%0A%40RunWith(SpringJUnit4ClassRunner.class)%0A%40ContextConfiguration(classes%20%3D%20SpringConfiguration.class)%0Apublic%20class%20AccountServiceTest%20%7B%0A%20%20%20%20%40Resource(name%20%3D%20%22accountService%22)%0A%20%20%20%20private%20IAccountService%20service%3B%0A%20%20%20%20%40Test%0A%20%20%20%20public%20void%20testFindAll()%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F3.%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%0A%20%20%20%20%20%20%20%20List%3CAccount%3E%20accounts%20%3D%20service.findAllAccount()%3B%0A%20%20%20%20%20%20%20%20for%20(Account%20account%20%3A%20accounts)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20System.out.println(account)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%60%60%60</center></span>
</div></body></html> 